From fe5dc9fe6d184dfc63e576d8b83efb145300e367 Mon Sep 17 00:00:00 2001
From: goatxiu <liujiaan@canaan-creative.com>
Date: Mon, 18 Jul 2022 15:29:49 +0800
Subject: [PATCH] modify AE default setting and gamma table

---
 .../i2c/soc_camera/canaanchip/imx219_0.c      |   46 +-
 .../i2c/soc_camera/canaanchip/imx219_1.c      |   39 +-
 .../canaan-isp/isp_2k/table/isp_gamma_table.c | 1078 +++++++++--------
 3 files changed, 593 insertions(+), 570 deletions(-)
 mode change 100755 => 100644 drivers/media/i2c/soc_camera/canaanchip/imx219_0.c
 mode change 100755 => 100644 drivers/media/i2c/soc_camera/canaanchip/imx219_1.c
 mode change 100755 => 100644 drivers/media/platform/canaan-isp/isp_2k/table/isp_gamma_table.c

diff --git a/drivers/media/i2c/soc_camera/canaanchip/imx219_0.c b/drivers/media/i2c/soc_camera/canaanchip/imx219_0.c
old mode 100755
new mode 100644
index 218ad824..e25d9bfe
--- a/drivers/media/i2c/soc_camera/canaanchip/imx219_0.c
+++ b/drivers/media/i2c/soc_camera/canaanchip/imx219_0.c
@@ -41,11 +41,11 @@
 /* In dB*256 */
 #define IMX219_DIGITAL_GAIN_MIN			256
 #define IMX219_DIGITAL_GAIN_MAX			43663
-#define IMX219_DIGITAL_GAIN_DEFAULT		768
+#define IMX219_DIGITAL_GAIN_DEFAULT		256
 
 #define IMX219_DIGITAL_EXPOSURE_MIN		0
 #define IMX219_DIGITAL_EXPOSURE_MAX		4095
-#define IMX219_DIGITAL_EXPOSURE_DEFAULT	1162//1575
+#define IMX219_DIGITAL_EXPOSURE_DEFAULT	1000//1575
 
 #define IMX219_EXP_LINES_MARGIN			4
 
@@ -287,7 +287,9 @@ static const struct imx219_reg imx219_init_tab_1920_1080_30fps[] = {
 	{0x4793, 0x10},
 	{0x4797, 0x0e},
 	{0x479b, 0x0e},
-	{0x0157, 0x40},
+	{0x0157, 0x00},
+	{0x015a, 0x03},
+	{0x015b, 0xe8},
 	{IMX219_TABLE_END, 0x00}
 };
 
@@ -397,8 +399,9 @@ static const struct imx219_reg imx219_init_tab_1080_1920_30fps[] = {
 	{0x4793, 0x10},
 	{0x4797, 0x0e},
 	{0x479b, 0x0e},
-	// {0x0157, 0x40},
-	{0x0157, 0x9a},
+	{0x0157, 0x00},
+	{0x015a, 0x03},
+	{0x015b, 0xe8},
 	{IMX219_TABLE_END, 0x00}	
 };
 
@@ -1029,8 +1032,8 @@ static int imx219_s_ctrl(struct v4l2_ctrl *ctrl)
 	struct i2c_client *client = v4l2_get_subdevdata(&priv->subdev);
 	u8 reg;
 	int ret;
-	u16 gain = 256;
-	u16 a_gain = 256;
+	u32 gain = 256; //u16 gain = 256;
+	u8 a_gain = 255; //u16 a_gain = 256;
 	u16 d_gain = 1;
 
 	dev_dbg(&client->dev,"%s:ctrl->id(0x%x),ctrl->val(%d)\n",__func__,ctrl->id,ctrl->val);
@@ -1056,30 +1059,33 @@ static int imx219_s_ctrl(struct v4l2_ctrl *ctrl)
 			gain = 256;
 		if (gain > 43663)
 			gain = 43663;
-		if (gain >= 256 && gain <= 2728) {
-			a_gain = gain;
-			d_gain = 1 * 256;
-		} else {
-			a_gain = 2728;
-			d_gain = (gain * 256) / a_gain;
-		}
-
+			
 		/*
 		 * Analog gain, reg range[0, 232], gain value[1, 10.66]
 		 * reg = 256 - 256 / again
 		 * a_gain here is 256 multify
 		 * so the reg = 256 - 256 * 256 / a_gain
 		 */
-		priv->analogue_gain = (256 - (256 * 256) / a_gain);
-		if (a_gain < 256)
-			priv->analogue_gain = 0;
-		if (priv->analogue_gain > 232)
-			priv->analogue_gain = 232;
+		if (gain>2730)
+			{
+				a_gain = 232;
+			}
+		else if(gain ==256)
+			{
+				a_gain =  0;
+			}
+		else
+			{
+				a_gain = 255 - 65536 / gain; 	//256 - 65536 / gain -1;
+			}
+		
+		priv->analogue_gain = a_gain;
 
 		/*
 		 * Digital gain, reg range[256, 4095], gain rage[1, 16]
 		 * reg = dgain * 256
 		 */
+		d_gain = (gain*(256-a_gain)+128)>>8;
 		priv->digital_gain = d_gain;
 		if (priv->digital_gain < 256)
 			priv->digital_gain = 256;
diff --git a/drivers/media/i2c/soc_camera/canaanchip/imx219_1.c b/drivers/media/i2c/soc_camera/canaanchip/imx219_1.c
old mode 100755
new mode 100644
index c1bfd46a..f11986c9
--- a/drivers/media/i2c/soc_camera/canaanchip/imx219_1.c
+++ b/drivers/media/i2c/soc_camera/canaanchip/imx219_1.c
@@ -285,7 +285,9 @@ static const struct imx219_reg imx219_init_tab_1920_1080_30fps[] = {
 	{0x4793, 0x10},
 	{0x4797, 0x0e},
 	{0x479b, 0x0e},
-	{0x0157, 0x40},
+	{0x0157, 0x00},
+	{0x015a, 0x03},
+	{0x015b, 0xe8},
 	{IMX219_TABLE_END, 0x00}
 };
 
@@ -394,7 +396,9 @@ static const struct imx219_reg imx219_init_tab_1080_1920_30fps[] = {
 	{0x4793, 0x10},
 	{0x4797, 0x0e},
 	{0x479b, 0x0e},
-	{0x0157, 0x40},
+	{0x0157, 0x00},
+	{0x015a, 0x03},
+	{0x015b, 0xe8},
 	{IMX219_TABLE_END, 0x00}	
 };
 
@@ -1022,8 +1026,8 @@ static int imx219_s_ctrl(struct v4l2_ctrl *ctrl)
 	struct i2c_client *client = v4l2_get_subdevdata(&priv->subdev);
 	u8 reg;
 	int ret;
-	u16 gain = 256;
-	u16 a_gain = 256;
+	u32 gain = 256; //u16 gain = 256;
+	u8 a_gain = 255; //u16 a_gain = 256;
 	u16 d_gain = 1;
 	dev_dbg(&client->dev,"%s:ctrl->id(0x%x),ctrl->val(%d)\n",__func__,ctrl->id,ctrl->val);
 	
@@ -1048,13 +1052,6 @@ static int imx219_s_ctrl(struct v4l2_ctrl *ctrl)
 			gain = 256;
 		if (gain > 43663)
 			gain = 43663;
-		if (gain >= 256 && gain <= 2728) {
-			a_gain = gain;
-			d_gain = 1 * 256;
-		} else {
-			a_gain = 2728;
-			d_gain = (gain * 256) / a_gain;
-		}
 
 		/*
 		 * Analog gain, reg range[0, 232], gain value[1, 10.66]
@@ -1062,16 +1059,26 @@ static int imx219_s_ctrl(struct v4l2_ctrl *ctrl)
 		 * a_gain here is 256 multify
 		 * so the reg = 256 - 256 * 256 / a_gain
 		 */
-		priv->analogue_gain = (256 - (256 * 256) / a_gain);
-		if (a_gain < 256)
-			priv->analogue_gain = 0;
-		if (priv->analogue_gain > 232)
-			priv->analogue_gain = 232;
+		if (gain>2730)
+			{
+				a_gain = 232;
+			}
+		else if(gain ==256)
+			{
+				a_gain =  0;
+			}
+		else
+			{
+				a_gain = 255 - 65536 / gain; 	//256 - 65536 / gain -1;
+			}
+		
+		priv->analogue_gain = a_gain;
 
 		/*
 		 * Digital gain, reg range[256, 4095], gain rage[1, 16]
 		 * reg = dgain * 256
 		 */
+		d_gain = (gain*(256-a_gain)+128)>>8;
 		priv->digital_gain = d_gain;
 		if (priv->digital_gain < 256)
 			priv->digital_gain = 256;
diff --git a/drivers/media/platform/canaan-isp/isp_2k/table/isp_gamma_table.c b/drivers/media/platform/canaan-isp/isp_2k/table/isp_gamma_table.c
old mode 100755
new mode 100644
index b7304e50..61c6fcc0
--- a/drivers/media/platform/canaan-isp/isp_2k/table/isp_gamma_table.c
+++ b/drivers/media/platform/canaan-isp/isp_2k/table/isp_gamma_table.c
@@ -1,534 +1,544 @@
-/* Copyright (c) 2022, Canaan Bright Sight Co., Ltd
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License version 2 as
- * published by the Free Software Foundation.
-*/
-/**
- * @brief 
- * 
- */
-int ISP_2K_YUV_GAMMA[256] = 
-{
-    0x4000,
-    0x2B04,
-    0x2606,
-    0x2309,
-    0x200B,
-    0x1F0D,
-    0x1E0F,
-    0x1D11,
-    0x1C13,
-    0x1B14,
-    0x1A16,
-    0x1A18,
-    0x1919,
-    0x191B,
-    0x181C,
-    0x181E,
-    0x171F,
-    0x1721,
-    0x1722,
-    0x1624,
-    0x1625,
-    0x1627,
-    0x1628,
-    0x152A,
-    0x152B,
-    0x152C,
-    0x152E,
-    0x142F,
-    0x1430,
-    0x1431,
-    0x1433,
-    0x1434,
-    0x1435,
-    0x1337,
-    0x1338,
-    0x1339,
-    0x133A,
-    0x133C,
-    0x133D,
-    0x133E,
-    0x133F,
-    0x1240,
-    0x1241,
-    0x1243,
-    0x1244,
-    0x1245,
-    0x1246,
-    0x1247,
-    0x1248,
-    0x124A,
-    0x124B,
-    0x114C,
-    0x114D,
-    0x114E,
-    0x114F,
-    0x1150,
-    0x1151,
-    0x1152,
-    0x1154,
-    0x1155,
-    0x1156,
-    0x1157,
-    0x1158,
-    0x1159,
-    0x105A,
-    0x105B,
-    0x105C,
-    0x105D,
-    0x105E,
-    0x105F,
-    0x1060,
-    0x1061,
-    0x1062,
-    0x1063,
-    0x1064,
-    0x1065,
-    0x1066,
-    0x1067,
-    0x1068,
-    0x1069,
-    0x106A,
-    0xF6C,
-    0xF6C,
-    0xF6D,
-    0xF6E,
-    0xF6F,
-    0xF70,
-    0xF71,
-    0xF72,
-    0xF73,
-    0xF74,
-    0xF75,
-    0xF76,
-    0xF77,
-    0xF78,
-    0xF79,
-    0xF7A,
-    0xF7B,
-    0xF7C,
-    0xF7D,
-    0xF7E,
-    0xF7F,
-    0xF80,
-    0xF81,
-    0xF82,
-    0xE83,
-    0xE84,
-    0xE85,
-    0xE86,
-    0xE86,
-    0xE87,
-    0xE88,
-    0xE89,
-    0xE8A,
-    0xE8B,
-    0xE8C,
-    0xE8D,
-    0xE8E,
-    0xE8F,
-    0xE90,
-    0xE91,
-    0xE91,
-    0xE92,
-    0xE93,
-    0xE94,
-    0xE95,
-    0xE96,
-    0xE97,
-    0xE98,
-    0xE99,
-    0xE99,
-    0xE9A,
-    0xE9B,
-    0xE9C,
-    0xE9D,
-    0xE9E,
-    0xE9F,
-    0xEA0,
-    0xDA1,
-    0xDA1,
-    0xDA2,
-    0xDA3,
-    0xDA4,
-    0xDA5,
-    0xDA6,
-    0xDA7,
-    0xDA8,
-    0xDA8,
-    0xDA9,
-    0xDAA,
-    0xDAB,
-    0xDAC,
-    0xDAD,
-    0xDAE,
-    0xDAE,
-    0xDAF,
-    0xDB0,
-    0xDB1,
-    0xDB2,
-    0xDB3,
-    0xDB3,
-    0xDB4,
-    0xDB5,
-    0xDB6,
-    0xDB7,
-    0xDB8,
-    0xDB8,
-    0xDB9,
-    0xDBA,
-    0xDBB,
-    0xDBC,
-    0xDBD,
-    0xDBD,
-    0xDBE,
-    0xDBF,
-    0xDC0,
-    0xDC1,
-    0xDC2,
-    0xDC2,
-    0xDC3,
-    0xDC4,
-    0xDC5,
-    0xDC6,
-    0xDC7,
-    0xDC7,
-    0xDC8,
-    0xCC9,
-    0xCCA,
-    0xCCB,
-    0xCCB,
-    0xCCC,
-    0xCCD,
-    0xCCE,
-    0xCCF,
-    0xCCF,
-    0xCD0,
-    0xCD1,
-    0xCD2,
-    0xCD3,
-    0xCD3,
-    0xCD4,
-    0xCD5,
-    0xCD6,
-    0xCD7,
-    0xCD7,
-    0xCD8,
-    0xCD9,
-    0xCDA,
-    0xCDB,
-    0xCDB,
-    0xCDC,
-    0xCDD,
-    0xCDE,
-    0xCDF,
-    0xCDF,
-    0xCE0,
-    0xCE1,
-    0xCE2,
-    0xCE2,
-    0xCE3,
-    0xCE4,
-    0xCE5,
-    0xCE6,
-    0xCE6,
-    0xCE7,
-    0xCE8,
-    0xCE9,
-    0xCE9,
-    0xCEA,
-    0xCEB,
-    0xCEC,
-    0xCED,
-    0xCED,
-    0xCEE,
-    0xCEF,
-    0xCF0,
-    0xCF0,
-    0xCF1,
-    0xCF2,
-    0xCF3,
-    0xCF3,
-    0xCF4,
-    0xCF5,
-    0xCF6,
-    0xCF6,
-    0xCF7,
-    0xCF8,
-    0xCF9,
-    0xCF9,
-    0xCFA,
-    0xCFB,
-    0xCFC,
-    0xCFC,
-    0xCFD,
-    0xCFE,
-    0xCFF,
-};
-/**
- * @brief 
- * 
- */
-int ISP_2K_RGB_GAMMA[256] = 
-{  
-	0x0000,
-	0x7005,
-	0x000B,
-	0xA010,
-	0x2016,
-	0x801B,
-	0xB020,
-	0x8025,
-	0x0029,
-	0x302C,
-	0x302F,
-	0x1032,
-	0xE034,
-	0xC037,
-	0xB03A,
-	0xC03D,
-	0x0041,
-	0x5044,
-	0x7047,
-	0x804A,
-	0x704D,
-	0x4050,
-	0x0053,
-	0xB055,
-	0x4058,
-	0xC05A,
-	0x405D,
-	0xA05F,
-	0x0062,
-	0x5064,
-	0x9066,
-	0xD068,
-	0x106B,
-	0x406D,
-	0x606F,
-	0x7071,
-	0x7073,
-	0x6075,
-	0x5077,
-	0x2079,
-	0xF07A,
-	0xB07C,
-	0x707E,
-	0x3080,
-	0xE081,
-	0x8083,
-	0x3085,
-	0xE086,
-	0x8088,
-	0x208A,
-	0xC08B,
-	0x508D,
-	0xE08E,
-	0x7090,
-	0xF091,
-	0x7093,
-	0xE094,
-	0x5096,
-	0xC097,
-	0x3099,
-	0x909A,
-	0xF09B,
-	0x509D,
-	0xA09E,
-	0x00A0,
-	0x50A1,
-	0xA0A2,
-	0xF0A3,
-	0x30A5,
-	0x80A6,
-	0xC0A7,
-	0xF0A8,
-	0x30AA,
-	0x60AB,
-	0x90AC,
-	0xC0AD,
-	0xE0AE,
-	0x10B0,
-	0x20B1,
-	0x40B2,
-	0x60B3,
-	0x70B4,
-	0x80B5,
-	0x80B6,
-	0x80B7,
-	0x80B8,
-	0x80B9,
-	0x70BA,
-	0x60BB,
-	0x50BC,
-	0x40BD,
-	0x30BE,
-	0x10BF,
-	0xF0BF,
-	0xD0C0,
-	0xA0C1,
-	0x80C2,
-	0x50C3,
-	0x20C4,
-	0xE0C4,
-	0xA0C5,
-	0x60C6,
-	0x20C7,
-	0xE0C7,
-	0x90C8,
-	0x40C9,
-	0xF0C9,
-	0xA0CA,
-	0x50CB,
-	0x00CC,
-	0xC0CC,
-	0x70CD,
-	0x20CE,
-	0xD0CE,
-	0x80CF,
-	0x40D0,
-	0xF0D0,
-	0xB0D1,
-	0x60D2,
-	0x10D3,
-	0xD0D3,
-	0x80D4,
-	0x30D5,
-	0xD0D5,
-	0x80D6,
-	0x20D7,
-	0xC0D7,
-	0x60D8,
-	0x00D9,
-	0x90D9,
-	0x20DA,
-	0xB0DA,
-	0x40DB,
-	0xC0DB,
-	0x50DC,
-	0xD0DC,
-	0x50DD,
-	0xC0DD,
-	0x40DE,
-	0xB0DE,
-	0x20DF,
-	0x90DF,
-	0x00E0,
-	0x70E0,
-	0xE0E0,
-	0x50E1,
-	0xB0E1,
-	0x20E2,
-	0x80E2,
-	0xF0E2,
-	0x50E3,
-	0xB0E3,
-	0x10E4,
-	0x70E4,
-	0xD0E4,
-	0x30E5,
-	0x80E5,
-	0xE0E5,
-	0x40E6,
-	0xA0E6,
-	0x00E7,
-	0x60E7,
-	0xC0E7,
-	0x20E8,
-	0x80E8,
-	0xE0E8,
-	0x40E9,
-	0xA0E9,
-	0x00EA,
-	0x60EA,
-	0xC0EA,
-	0x20EB,
-	0x80EB,
-	0xE0EB,
-	0x30EC,
-	0x90EC,
-	0xE0EC,
-	0x30ED,
-	0x80ED,
-	0xD0ED,
-	0x20EE,
-	0x70EE,
-	0xB0EE,
-	0x00EF,
-	0x50EF,
-	0x90EF,
-	0xE0EF,
-	0x20F0,
-	0x60F0,
-	0xB0F0,
-	0xF0F0,
-	0x40F1,
-	0x80F1,
-	0xC0F1,
-	0x10F2,
-	0x50F2,
-	0x90F2,
-	0xE0F2,
-	0x20F3,
-	0x60F3,
-	0xA0F3,
-	0xE0F3,
-	0x30F4,
-	0x70F4,
-	0xB0F4,
-	0xF0F4,
-	0x30F5,
-	0x70F5,
-	0xB0F5,
-	0xF0F5,
-	0x30F6,
-	0x70F6,
-	0xB0F6,
-	0xF0F6,
-	0x30F7,
-	0x70F7,
-	0xB0F7,
-	0xE0F7,
-	0x20F8,
-	0x60F8,
-	0xA0F8,
-	0xD0F8,
-	0x10F9,
-	0x50F9,
-	0x80F9,
-	0xB0F9,
-	0xF0F9,
-	0x20FA,
-	0x50FA,
-	0x80FA,
-	0xB0FA,
-	0xE0FA,
-	0x10FB,
-	0x40FB,
-	0x70FB,
-	0xA0FB,
-	0xD0FB,
-	0x00FC,
-	0x30FC,
-	0x60FC,
-	0x90FC,
-	0xC0FC,
-	0x00FD,
-	0x30FD,
-	0x60FD,
-	0xA0FD,
-	0xD0FD,
-	0x10FE,
-	0x40FE,
-	0x80FE,
-	0xB0FE,
-	0xF0FE,
-	0x20FF,
-	0x60FF,
-	0x90FF,
-	0xF0FF,    
-};
-
-
+/******************************************************************************
+
+  Copyright (C), 2021, CANAAN Tech. Co., Ltd.
+
+ ******************************************************************************
+  File Name     : isp_gamma_table.c
+  Version       : Initial Draft
+  Author        : 
+  Created       : 
+  Description   : 
+  History       :
+  1.Date        : 
+    Author      :
+    Modification: Created file
+
+******************************************************************************/
+/**
+ * @brief 
+ * 
+ */
+int ISP_2K_YUV_GAMMA[256] = 
+{
+    0x4000,
+    0x2B04,
+    0x2606,
+    0x2309,
+    0x200B,
+    0x1F0D,
+    0x1E0F,
+    0x1D11,
+    0x1C13,
+    0x1B14,
+    0x1A16,
+    0x1A18,
+    0x1919,
+    0x191B,
+    0x181C,
+    0x181E,
+    0x171F,
+    0x1721,
+    0x1722,
+    0x1624,
+    0x1625,
+    0x1627,
+    0x1628,
+    0x152A,
+    0x152B,
+    0x152C,
+    0x152E,
+    0x142F,
+    0x1430,
+    0x1431,
+    0x1433,
+    0x1434,
+    0x1435,
+    0x1337,
+    0x1338,
+    0x1339,
+    0x133A,
+    0x133C,
+    0x133D,
+    0x133E,
+    0x133F,
+    0x1240,
+    0x1241,
+    0x1243,
+    0x1244,
+    0x1245,
+    0x1246,
+    0x1247,
+    0x1248,
+    0x124A,
+    0x124B,
+    0x114C,
+    0x114D,
+    0x114E,
+    0x114F,
+    0x1150,
+    0x1151,
+    0x1152,
+    0x1154,
+    0x1155,
+    0x1156,
+    0x1157,
+    0x1158,
+    0x1159,
+    0x105A,
+    0x105B,
+    0x105C,
+    0x105D,
+    0x105E,
+    0x105F,
+    0x1060,
+    0x1061,
+    0x1062,
+    0x1063,
+    0x1064,
+    0x1065,
+    0x1066,
+    0x1067,
+    0x1068,
+    0x1069,
+    0x106A,
+    0xF6C,
+    0xF6C,
+    0xF6D,
+    0xF6E,
+    0xF6F,
+    0xF70,
+    0xF71,
+    0xF72,
+    0xF73,
+    0xF74,
+    0xF75,
+    0xF76,
+    0xF77,
+    0xF78,
+    0xF79,
+    0xF7A,
+    0xF7B,
+    0xF7C,
+    0xF7D,
+    0xF7E,
+    0xF7F,
+    0xF80,
+    0xF81,
+    0xF82,
+    0xE83,
+    0xE84,
+    0xE85,
+    0xE86,
+    0xE86,
+    0xE87,
+    0xE88,
+    0xE89,
+    0xE8A,
+    0xE8B,
+    0xE8C,
+    0xE8D,
+    0xE8E,
+    0xE8F,
+    0xE90,
+    0xE91,
+    0xE91,
+    0xE92,
+    0xE93,
+    0xE94,
+    0xE95,
+    0xE96,
+    0xE97,
+    0xE98,
+    0xE99,
+    0xE99,
+    0xE9A,
+    0xE9B,
+    0xE9C,
+    0xE9D,
+    0xE9E,
+    0xE9F,
+    0xEA0,
+    0xDA1,
+    0xDA1,
+    0xDA2,
+    0xDA3,
+    0xDA4,
+    0xDA5,
+    0xDA6,
+    0xDA7,
+    0xDA8,
+    0xDA8,
+    0xDA9,
+    0xDAA,
+    0xDAB,
+    0xDAC,
+    0xDAD,
+    0xDAE,
+    0xDAE,
+    0xDAF,
+    0xDB0,
+    0xDB1,
+    0xDB2,
+    0xDB3,
+    0xDB3,
+    0xDB4,
+    0xDB5,
+    0xDB6,
+    0xDB7,
+    0xDB8,
+    0xDB8,
+    0xDB9,
+    0xDBA,
+    0xDBB,
+    0xDBC,
+    0xDBD,
+    0xDBD,
+    0xDBE,
+    0xDBF,
+    0xDC0,
+    0xDC1,
+    0xDC2,
+    0xDC2,
+    0xDC3,
+    0xDC4,
+    0xDC5,
+    0xDC6,
+    0xDC7,
+    0xDC7,
+    0xDC8,
+    0xCC9,
+    0xCCA,
+    0xCCB,
+    0xCCB,
+    0xCCC,
+    0xCCD,
+    0xCCE,
+    0xCCF,
+    0xCCF,
+    0xCD0,
+    0xCD1,
+    0xCD2,
+    0xCD3,
+    0xCD3,
+    0xCD4,
+    0xCD5,
+    0xCD6,
+    0xCD7,
+    0xCD7,
+    0xCD8,
+    0xCD9,
+    0xCDA,
+    0xCDB,
+    0xCDB,
+    0xCDC,
+    0xCDD,
+    0xCDE,
+    0xCDF,
+    0xCDF,
+    0xCE0,
+    0xCE1,
+    0xCE2,
+    0xCE2,
+    0xCE3,
+    0xCE4,
+    0xCE5,
+    0xCE6,
+    0xCE6,
+    0xCE7,
+    0xCE8,
+    0xCE9,
+    0xCE9,
+    0xCEA,
+    0xCEB,
+    0xCEC,
+    0xCED,
+    0xCED,
+    0xCEE,
+    0xCEF,
+    0xCF0,
+    0xCF0,
+    0xCF1,
+    0xCF2,
+    0xCF3,
+    0xCF3,
+    0xCF4,
+    0xCF5,
+    0xCF6,
+    0xCF6,
+    0xCF7,
+    0xCF8,
+    0xCF9,
+    0xCF9,
+    0xCFA,
+    0xCFB,
+    0xCFC,
+    0xCFC,
+    0xCFD,
+    0xCFE,
+    0xCFF,
+};
+/**
+ * @brief 
+ * 
+ */
+int ISP_2K_RGB_GAMMA[256] = 
+{  
+		0x000,
+		0xC05,
+		0x80B,
+		0x411,
+		0xC16,
+		0x01C,
+		0x421,
+		0x426,
+		0x02B,
+		0x82F,
+		0xC33,
+		0xC37,
+		0x83B,
+		0x03F,
+		0x442,
+		0x445,
+		0x048,
+		0xC4A,
+		0x44D,
+		0xC4F,
+		0x052,
+		0x454,
+		0x856,
+		0x858,
+		0x85A,
+		0x85C,
+		0x85E,
+		0x860,
+		0x862,
+		0x864,
+		0x466,
+		0x068,
+		0xC69,
+		0x86B,
+		0x46D,
+		0x06F,
+		0xC70,
+		0x872,
+		0x074,
+		0x875,
+		0x077,
+		0x878,
+		0x07A,
+		0x87B,
+		0x07D,
+		0x87E,
+		0xC7F,
+		0x081,
+		0x482,
+		0x883,
+		0xC84,
+		0x086,
+		0x487,
+		0x888,
+		0xC89,
+		0x08B,
+		0x48C,
+		0x88D,
+		0x88E,
+		0x88F,
+		0x890,
+		0x891,
+		0x892,
+		0x893,
+		0x894,
+		0x895,
+		0x896,
+		0x897,
+		0x898,
+		0x899,
+		0x89A,
+		0x89B,
+		0x89C,
+		0x89D,
+		0x89E,
+		0x49F,
+		0x0A0,
+		0xCA0,
+		0x8A1,
+		0x4A2,
+		0x0A3,
+		0xCA3,
+		0x8A4,
+		0x4A5,
+		0x0A6,
+		0xCA6,
+		0x8A7,
+		0x4A8,
+		0x0A9,
+		0xCA9,
+		0x8AA,
+		0x4AB,
+		0x0AC,
+		0xCAC,
+		0x8AD,
+		0x4AE,
+		0x0AF,
+		0xCAF,
+		0x8B0,
+		0x4B1,
+		0x0B2,
+		0xCB2,
+		0x8B3,
+		0x4B4,
+		0x0B5,
+		0xCB5,
+		0x4B6,
+		0xCB6,
+		0x4B7,
+		0xCB7,
+		0x4B8,
+		0xCB8,
+		0x4B9,
+		0xCB9,
+		0x4BA,
+		0xCBA,
+		0x4BB,
+		0xCBB,
+		0x4BC,
+		0xCBC,
+		0x4BD,
+		0xCBD,
+		0x4BE,
+		0xCBE,
+		0x4BF,
+		0xCBF,
+		0x4C0,
+		0xCC0,
+		0x4C1,
+		0xCC1,
+		0x4C2,
+		0xCC2,
+		0x4C3,
+		0xCC3,
+		0x4C4,
+		0xCC4,
+		0x4C5,
+		0xCC5,
+		0x4C6,
+		0xCC6,
+		0x4C7,
+		0xCC7,
+		0x4C8,
+		0xCC8,
+		0x4C9,
+		0xCC9,
+		0x4CA,
+		0xCCA,
+		0x4CB,
+		0xCCB,
+		0x4CC,
+		0xCCC,
+		0x4CD,
+		0xCCD,
+		0x4CE,
+		0xCCE,
+		0x4CF,
+		0xCCF,
+		0x4D0,
+		0xCD0,
+		0x4D1,
+		0xCD1,
+		0x4D2,
+		0xCD2,
+		0x4D3,
+		0xCD3,
+		0x4D4,
+		0xCD4,
+		0x4D5,
+		0xCD5,
+		0x4D6,
+		0xCD6,
+		0x4D7,
+		0xCD7,
+		0x4D8,
+		0xCD8,
+		0x4D9,
+		0xCD9,
+		0x4DA,
+		0xCDA,
+		0x4DB,
+		0xCDB,
+		0x4DC,
+		0xCDC,
+		0x4DD,
+		0xCDD,
+		0x4DE,
+		0xCDE,
+		0x4DF,
+		0xCDF,
+		0x4E0,
+		0xCE0,
+		0x4E1,
+		0xCE1,
+		0x4E2,
+		0xCE2,
+		0x4E3,
+		0xCE3,
+		0x4E4,
+		0xCE4,
+		0x4E5,
+		0xCE5,
+		0x4E6,
+		0xCE6,
+		0x4E7,
+		0xCE7,
+		0x4E8,
+		0xCE8,
+		0x4E9,
+		0xCE9,
+		0x4EA,
+		0xCEA,
+		0x4EB,
+		0xCEB,
+		0x4EC,
+		0xCEC,
+		0x4ED,
+		0xCED,
+		0x4EE,
+		0xCEE,
+		0x4EF,
+		0xCEF,
+		0x4F0,
+		0xCF0,
+		0x4F1,
+		0xCF1,
+		0x4F2,
+		0xCF2,
+		0x4F3,
+		0xCF3,
+		0x4F4,
+		0xCF4,
+		0x4F5,
+		0xCF5,
+		0x4F6,
+		0xCF6,
+		0x4F7,
+		0xCF7,
+		0x4F8,
+		0xCF8,
+		0x4F9,
+		0xCF9,
+		0x4FA,
+		0xCFA,
+		0x4FB,
+		0xCFB,
+		0x4FC,
+		0xCFC,
+		0x4FD,
+		0xCFD,
+		0x4FE,
+		0xCFE,
+		0x0FF,
+		0x4FF,
+		0x8FF,
+		0xCFF,    
+};
+
+
-- 
2.36.1

